export TERM="xterm-256color"
export EDITOR=/usr/local/bin/vim
#ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’viãƒ¢ãƒ¼ãƒ‰ã«
bindkey -v
#è£œå®Œæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹
autoload -U compinit; compinit
#è£œå®Œä¸€è¦§ã‚’è¡¨ç¤º
setopt auto_list
#è£œå®Œã‚­ãƒ¼é€£æ‰“ã§æ¬¡ã®å€™è£œã¸
setopt auto_menu
# è£œå®Œæ™‚ã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'
#cdã®å…¥åŠ›ã‚’çœç•¥
setopt auto_cd
#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¹ãƒˆãƒƒã‚¯ã«è¿½åŠ ã™ã‚‹
setopt auto_pushd
#ãƒ€ãƒ–ã£ã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¹ãƒˆãƒƒã‚¯ã‚’è¨˜éŒ²ã—ãªã„
setopt hist_ignore_all_dups
#ãƒ“ãƒ¼ãƒ—éŸ³ã‚’é³´ã‚‰ã•ãªã„
setopt no_beep
#ã‚¹ãƒšãƒ«è¨‚æ­£
setopt correct

source ~/.zplug/init.zsh || { git clone https://github.com/b4b4r07/zplug.git ~/.zplug && source ~/.zplug/init.zsh }

source ~/.git.zsh
export XDG_CONFIG_HOME=$HOME/.config
zplug 'b4b4r07/zplug', at:v2
#zplug 'bhilburn/powerlevel9k', use:powerlevel9k.zsh-theme
zplug 'zsh-users/zsh-syntax-highlighting'
zplug 'zsh-users/zsh-history-substring-search'
zplug 'minerva1129/zsh-autosuggestions'
zplug 'zsh-users/zsh-completions'
zplug 'caiogondim/bullet-train-oh-my-zsh-theme', use:'bullet-train.zsh-theme'
#POWERLEVEL9K_SHORTEN_DIR_LENGTH=3
#POWERLEVEL9K_HOME_ICON='ðŸ¡'
#POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(os_icon dir rbenv vcs) 	
#source ~/.zplug/repos/NicoSantangelo/Alpharized/alpharized.zsh-theme
#ZSH_THEME='alpharized'
#zplug "themes/bullet-train", from:oh-my-zsh
BULLETTRAIN_PROMPT_ORDER=(
  time
  dir
  ruby
  git
)
if ! zplug check --verbose; then
  printf "Install? [y/N]: "
  if read -q; then
    echo; zplug install
  fi
fi

  # Then, source plugins and add commands to $PATH
zplug load --verbose

eval "$(rbenv init -)"

source ~/.zplug/repos/minerva1129/zsh-autosuggestions/zsh-autosuggestions.zsh
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=5"
bindkey '^ ' autosuggest-accept
function peco-select-history() {
    local tac
    if which tac > /dev/null; then
        tac="tac"
    else
        tac="tail -r"
    fi

    BUFFER=$(\history -n 1 | \
        eval $tac | \
        peco --query "$LBUFFER")
    CURSOR=$#BUFFER
    zle clear-screen
}
zle -N peco-select-history
bindkey '^r' peco-select-history


function peco-kill() {
  kill "$(ps -a|sed -e '1d'|peco|cut -c -5)"
}

zle -N peco-kill
bindkey '^k' peco-kill

if [ -z "$TMUX" ]; then
  if $(tmux has-session); then
    echo "Do you want to attaach tmux session? (Y/n)"
    read ANSWER
    case $ANSWER in
      "" | "Y" | "y" | "yes" | "Yes" | "YES" )
        echo "attach the session."
        ID="`tmux list-sessions`"
        ID="`echo $ID | fzf -m | cut -d: -f1`"
        tmux attach-session -t "$ID";;
      * ) echo "";;
    esac
  else
    tmux
  fi
fi
[[ -s /Users/yuutas4/.tmuxinator/scripts/tmuxinator ]] && source /Users/yuutas4/.tmuxinator/scripts/tmuxinator
